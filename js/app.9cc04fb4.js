(function(e){function t(t){for(var n,a,o=t[0],c=t[1],l=t[2],h=0,m=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},5120:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e623"),i("e379"),i("5dc8"),i("37e1");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],a=i("2877"),o={},c=Object(a["a"])(o,s,r,!1,null,null,null),l=c.exports,u=i("8c4f"),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),i("ImagesView",{attrs:{visible:e.show,images:e.srcArr,src:e.imgSrc},on:{"update:visible":function(t){e.show=t}}})],1)},m=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"imgBox"}},[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164644.jpg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164639.webp",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164640.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164641.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164642.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164643.jpeg",alt:""}})])}],g=(i("a630"),i("d81d"),i("3ca3"),i("96cf"),i("1da1")),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"preview",class:e.visible?"preview-visible":"preview-hidden",on:{mousewheel:e.scroll}},[i("div",{staticClass:"preview-image-mask"},[i("div",{staticClass:"preview-image-container",style:e.containerStyle},[i("div",{staticClass:"preview-image-wrapper-container",style:{transform:"scale("+e.imgStyle.scale+") translate("+e.imgStyle.translate.x+"px, "+e.imgStyle.translate.y+"px)"},on:{mousedown:e.dragImage}},[i("transition",{attrs:{name:"fade"}},[e.currenImage?i("img",{staticClass:"preview-image",attrs:{src:e.currenImage}}):e._e()])],1)])]),i("div",{staticClass:"preview-hot-zone"},[i("div",{staticClass:"preview-widgets-container-top preview-widgets-container-visible"},[i("div",{staticClass:"preview-button-close",on:{click:e.close}})]),e.showIndex>0?i("div",{staticClass:"preview-button-prev",on:{click:e.prev}}):e._e(),e.showIndex<e.images.length-1?i("div",{staticClass:"preview-button-next",on:{click:e.next}}):e._e(),i("div",{staticClass:"preview-bottom-container"},[i("div",{staticClass:"preview-page-number preview-page-number-visible"},[e._v(e._s(e.showIndex+1)+"/"+e._s(e.imagesArr.length))]),i("div",{staticClass:"preview-widgets-button-container-bottom preview-widgets-button-container-visible"},[i("span",{staticClass:"preview-scale-up-button",class:e.imgStyle.scale>=e.scaleMax?"preview-disable-click":"",on:{click:e.toScaleMax}}),i("span",{staticClass:"preview-scale-down-button",class:e.imgStyle.scale<=e.scaleMin?"preview-disable-click":"",on:{click:e.toScaleMin}}),i("span",{staticClass:"preview-real-screen-button",on:{click:e.realScreen}}),i("span",{staticClass:"preview-divide-line"}),i("span",{staticClass:"preview-download-button",on:{click:e.toDownload}})])])])])},p=[],v=(i("c740"),i("a9e3"),i("b680"),i("d3b7"),i("ac1f"),i("1276"),{props:{images:{type:Array,default:function(){return[]}},src:{type:String,default:""},info:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},size:{type:Object,default:function(){return{}}}},data:function(){return{currenImage:"",containerStyle:{transform:"translate(0px, 0px) scale(0.5)","--init-coord":"translate(0px, 0px) scale(0.5)"},imgStyle:{scale:1,translate:{x:0,y:0}},showIndex:0,imagesArr:[]}},methods:{close:function(){this.$emit("update:visible",!1)},next:function(){var e=this;this.showIndex<this.imagesArr.length-1&&(this.showIndex++,this.currenImage="",this.$nextTick((function(){e.change(e.imagesArr[e.showIndex])})))},prev:function(){var e=this;this.showIndex>0&&(this.showIndex--,this.currenImage="",this.$nextTick((function(){e.change(e.imagesArr[e.showIndex])})))},change:function(e){var t=e.width,i=e.height,n=e.src,s=window,r=s.innerWidth,a=s.innerHeight,o=r-60,c=a-60,l=1,u=1;t>=o&&(l=Number(parseFloat(o/t).toFixed(3))),i>=c&&(u=Number(parseFloat(c/i).toFixed(3)));var h=Math.min(l,u);this.imgStyle.scale=h,this.imgStyle.translate.x=0,this.imgStyle.translate.y=0,this.currenImage=n,this.scaleMin=h>.5?.5:.1},scroll:function(e){var t=this;this.scheduledAnimationFrame||(this.scheduledAnimationFrame=!0,requestAnimationFrame((function(){var i=t.imgStyle.scale+.01*e.deltaY;t.scheduledAnimationFrame=!1,t.toScaleOfStep(i)}))),e.preventDefault()},dragImage:function(e){var t=this.imagesArr[this.showIndex],i=t.width,n=t.height,s=window,r=s.innerHeight,a=s.innerWidth;this.overWidth=i*this.imgStyle.scale-a,this.overHeight=n*this.imgStyle.scale-r,(this.overWidth>0||this.overHeight>0)&&(this.startX=e.clientX,this.startY=e.clientY,this.boxLeft=(this.overWidth/2+30)/this.imgStyle.scale,this.boxTop=(this.overHeight/2+30)/this.imgStyle.scale,this.boxRight=(this.overHeight/2+30)/this.imgStyle.scale,document.addEventListener("mousemove",this.imageMove),document.addEventListener("mouseup",this.imgageUp)),e.preventDefault()},imageMove:function(e){var t=this;this.dragAnimationFrame||(this.dragAnimationFrame=!0,requestAnimationFrame((function(){t.dragAnimationFrame=!1;var i=e.clientX,n=e.clientY,s=i-t.startX,r=n-t.startY,a=t.imgStyle.translate.x+.5*s,o=t.imgStyle.translate.y+.5*r;a>=t.boxLeft&&(a=t.boxLeft),o>=t.boxTop&&(o=t.boxTop),a<=-t.boxLeft&&(a=-t.boxLeft),o<=-t.boxTop&&(o=-t.boxTop),t.overWidth>0&&(t.imgStyle.translate.x=a),t.overHeight>0&&(t.imgStyle.translate.y=o),t.startX=i,t.startY=n}))),e.preventDefault()},imgageUp:function(e){document.removeEventListener("mousemove",this.imageMove),document.removeEventListener("mouseup",this.imgageUp),e.preventDefault()},toScaleMax:function(){this.toScaleOfStep(this.imgStyle.scale+.2)},toScaleMin:function(){this.toScaleOfStep(this.imgStyle.scale-.2)},realScreen:function(){this.imgStyle.scale=1,this.imgStyle.translate.x=0,this.imgStyle.translate.y=0},toScaleOfStep:function(e){e<=this.scaleMin?e=this.scaleMin:e>=this.scaleMax&&(e=this.scaleMax),this.imgStyle.scale=e},toDownload:function(){var e=this.src.split("/"),t=document.createElement("a");console.log(this.src,e[e.length-1]),t.download=e[e.length-1],t.href=this.src,t.click()},loadImage:function(e){return new Promise((function(t,i){var n=new Image;n.src=e,n.onload=function(){t({src:e,width:n.width,height:n.height})},n.onerror=i}))},imagesChanged:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=[],n=0;case 2:if(!(n<e.images.length)){t.next=16;break}return t.prev=3,t.next=6,e.loadImage(e.images[n]);case 6:s=t.sent,i.push(s),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:n++,t.next=2;break;case 16:e.imagesArr=i;case 17:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},watch:{visible:function(e){var t=this;e&&(this.showIndex=this.imagesArr.findIndex((function(e){return e.src===t.src})),this.change(this.imagesArr[this.showIndex]))},images:function(e){console.log(e),this.imagesChanged()}},created:function(){this.scaleMax=3,this.scaleMin=.5},mounted:function(){document.body.appendChild(this.$el)}}),f=v,w=(i("83e0"),Object(a["a"])(f,d,p,!1,null,"4b3f4d62",null)),b=w.exports,x={components:{ImagesView:b},data:function(){return{show:!1,imgSrc:"",srcArr:[],info:{}}},methods:{getData:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=e.querySelectorAll("img"),t.srcArr=Array.from(n).map((function(e){return e.src}));case 2:case"end":return i.stop()}}),i)})))()}},mounted:function(){var e=this,t=document.querySelector("#imgBox");this.getData(t),t.addEventListener("click",(function(t){"IMG"==t.target.nodeName&&(e.imgSrc=t.target.src,e.show=!0)}))}},y=x,S=Object(a["a"])(y,h,m,!1,null,null,null),I=S.exports,j=[{path:"/",component:I}];n["a"].use(u["a"]);var A=new u["a"]({routes:j}),k=A;n["a"].config.productionTip=!1,new n["a"]({router:k,render:function(e){return e(l)}}).$mount("#app")},"83e0":function(e,t,i){"use strict";i("5120")}});