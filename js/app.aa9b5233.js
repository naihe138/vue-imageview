(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var h=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e623"),i("e379"),i("5dc8"),i("37e1");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[],r=i("2877"),o={},c=Object(r["a"])(o,s,a,!1,null,null,null),l=c.exports,h=i("8c4f"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),i("ImagesView",{attrs:{visible:e.show,images:e.srcArr,src:e.imgSrc,info:e.info},on:{"update:visible":function(t){e.show=t}}})],1)},m=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"imgBox"}},[i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164644.jpg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164639.webp",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164640.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164641.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164642.jpeg",alt:""}}),i("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/naihe138/myimages/img/20210523164643.jpeg",alt:""}})])}],d=(i("d3b7"),i("96cf"),i("1da1")),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"preview",class:e.visible?"preview-visible":"preview-hidden",on:{mousewheel:e.scroll}},[i("div",{staticClass:"preview-image-mask"},[i("div",{staticClass:"preview-image-container",style:e.containerStyle},[i("div",{staticClass:"preview-image-wrapper-container",style:{transform:"scale("+e.imgStyle.scale+") translate("+e.imgStyle.translate.x+"px, "+e.imgStyle.translate.y+"px)"},on:{mousedown:e.dragImage}},[i("transition",{attrs:{name:"fade"}},[e.currenImage?i("img",{staticClass:"preview-image",attrs:{src:e.currenImage}}):e._e()])],1)])]),i("div",{staticClass:"preview-hot-zone"},[i("div",{staticClass:"preview-widgets-container-top preview-widgets-container-visible"},[i("div",{staticClass:"preview-button-close",on:{click:e.close}})]),e.showIndex>0?i("div",{staticClass:"preview-button-prev",on:{click:e.prev}}):e._e(),e.showIndex<e.images.length-1?i("div",{staticClass:"preview-button-next",on:{click:e.next}}):e._e(),i("div",{staticClass:"preview-bottom-container"},[i("div",{staticClass:"preview-page-number preview-page-number-visible"},[e._v(e._s(e.showIndex+1)+"/"+e._s(e.images.length))]),i("div",{staticClass:"preview-widgets-button-container-bottom preview-widgets-button-container-visible"},[i("span",{staticClass:"preview-scale-up-button",class:e.imgStyle.scale>=e.scaleMax?"preview-disable-click":"",on:{click:e.toScaleMax}}),i("span",{staticClass:"preview-scale-down-button",class:e.imgStyle.scale<=e.scaleMin?"preview-disable-click":"",on:{click:e.toScaleMin}}),i("span",{staticClass:"preview-real-screen-button",on:{click:e.realScreen}}),i("span",{staticClass:"preview-divide-line"}),i("span",{staticClass:"preview-download-button",on:{click:e.toDownload}})])])])])},p=[],v=(i("c740"),i("a9e3"),i("b680"),i("ac1f"),i("1276"),i("5530")),f={props:{images:{type:Array,default:function(){return[]}},src:{type:String,default:""},info:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},size:{type:Object,default:function(){return{}}}},data:function(){return{currenImage:"",containerStyle:{transform:"translate(0px, 0px) scale(0.5)","--init-coord":"translate(0px, 0px) scale(0.5)"},imgStyle:{scale:1,translate:{x:0,y:0}},showIndex:0}},methods:{close:function(){this.$emit("update:visible",!1)},next:function(){var e=this;this.showIndex<this.images.length-1&&(this.showIndex++,this.currenImage="",this.$nextTick((function(){e.change(e.images[e.showIndex])})))},prev:function(){var e=this;this.showIndex>0&&(this.showIndex--,this.currenImage="",this.$nextTick((function(){e.change(e.images[e.showIndex])})))},change:function(e){var t=e.width,i=e.height,n=e.src,s=window,a=s.innerWidth,r=s.innerHeight,o=a-60,c=r-60,l=1,h=1;t>=o&&(l=Number(parseFloat(o/t).toFixed(3))),i>=c&&(h=Number(parseFloat(c/i).toFixed(3)));var u=Math.min(l,h);this.imgStyle.scale=u,this.imgStyle.translate.x=0,this.imgStyle.translate.y=0,this.currenImage=n,this.scaleMin=u>.5?.5:.1},scroll:function(e){var t=this;this.scheduledAnimationFrame||(this.scheduledAnimationFrame=!0,requestAnimationFrame((function(){var i=t.imgStyle.scale+.01*e.deltaY;t.scheduledAnimationFrame=!1,t.toScaleOfStep(i)}))),e.preventDefault()},dragImage:function(e){var t=this.images[this.showIndex],i=t.width,n=t.height,s=window,a=s.innerHeight,r=s.innerWidth;this.overWidth=i*this.imgStyle.scale-r,this.overHeight=n*this.imgStyle.scale-a,(this.overWidth>0||this.overHeight>0)&&(this.startX=e.clientX,this.startY=e.clientY,this.boxLeft=(this.overWidth/2+30)/this.imgStyle.scale,this.boxTop=(this.overHeight/2+30)/this.imgStyle.scale,this.boxRight=(this.overHeight/2+30)/this.imgStyle.scale,document.addEventListener("mousemove",this.imageMove),document.addEventListener("mouseup",this.imgageUp)),e.preventDefault()},imageMove:function(e){var t=this;this.dragAnimationFrame||(this.dragAnimationFrame=!0,requestAnimationFrame((function(){t.dragAnimationFrame=!1;var i=e.clientX,n=e.clientY,s=i-t.startX,a=n-t.startY,r=t.imgStyle.translate.x+.5*s,o=t.imgStyle.translate.y+.5*a;r>=t.boxLeft&&(r=t.boxLeft),o>=t.boxTop&&(o=t.boxTop),r<=-t.boxLeft&&(r=-t.boxLeft),o<=-t.boxTop&&(o=-t.boxTop),t.overWidth>0&&(t.imgStyle.translate.x=r),t.overHeight>0&&(t.imgStyle.translate.y=o),t.startX=i,t.startY=n}))),e.preventDefault()},imgageUp:function(e){document.removeEventListener("mousemove",this.imageMove),document.removeEventListener("mouseup",this.imgageUp),e.preventDefault()},toScaleMax:function(){this.toScaleOfStep(this.imgStyle.scale+.2)},toScaleMin:function(){this.toScaleOfStep(this.imgStyle.scale-.2)},realScreen:function(){this.imgStyle.scale=1,this.imgStyle.translate.x=0,this.imgStyle.translate.y=0},toScaleOfStep:function(e){e<=this.scaleMin?e=this.scaleMin:e>=this.scaleMax&&(e=this.scaleMax),this.imgStyle.scale=e},toDownload:function(){var e=this.src.split("/"),t=document.createElement("a");console.log(this.src,e[e.length-1]),t.download=e[e.length-1],t.href=this.src,t.click()}},watch:{visible:function(e){var t=this;e&&(this.showIndex=this.images.findIndex((function(e){return e.src===t.src})),this.change(Object(v["a"])({src:this.src},this.info)))}},created:function(){this.scaleMax=3,this.scaleMin=.5},mounted:function(){document.body.appendChild(this.$el)}},w=f,b=(i("bec2"),Object(r["a"])(w,g,p,!1,null,"7b83d881",null)),y=b.exports,x={components:{ImagesView:y},data:function(){return{show:!1,imgSrc:"",srcArr:[],info:{}}},methods:{getData:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function i(){var n,s,a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=e.querySelectorAll("img"),s=[],a=0;case 3:if(!(a<n.length)){i.next=12;break}return i.next=6,t.loadImag(n[a]);case 6:r=i.sent,console.log(r),s.push(r);case 9:a++,i.next=3;break;case 12:t.srcArr=s;case 13:case"end":return i.stop()}}),i)})))()},loadImag:function(e){return new Promise((function(t,i){e.onload=function(){t({src:e.src,width:e.width,height:e.height})},e.onerror=i}))}},mounted:function(){var e=this,t=document.querySelector("#imgBox");this.getData(t),t.addEventListener("click",(function(t){"IMG"==t.target.nodeName&&(e.imgSrc=t.target.src,e.info={x:t.clientX,y:t.clientY,width:t.target.width,height:t.target.height},e.show=!0,console.log("info",e.info))}))}},S=x,j=Object(r["a"])(S,u,m,!1,null,null,null),I=j.exports,M=[{path:"/",component:I}];n["a"].use(h["a"]);var O=new h["a"]({routes:M}),_=O;n["a"].config.productionTip=!1,new n["a"]({router:_,render:function(e){return e(l)}}).$mount("#app")},"5c0c":function(e,t,i){},bec2:function(e,t,i){"use strict";i("5c0c")}});